!function(n){inlineEditTax={init:function(){var e=this,t=n("#inline-edit");e.type=n("#the-list").attr("data-wp-lists").substr(5),e.what="#"+e.type+"-",n("#the-list").on("click","a.editinline",function(){return inlineEditTax.edit(this),!1}),t.keyup(function(t){if(27==t.which)return inlineEditTax.revert()}),n("a.cancel",t).click(function(){return inlineEditTax.revert()}),n("a.save",t).click(function(){return inlineEditTax.save(this)}),n("input, select",t).keydown(function(t){if(13==t.which)return inlineEditTax.save(this)}),n('#posts-filter input[type="submit"]').mousedown(function(t){e.revert()})},toggle:function(t){var e=this;"none"==n(e.what+e.getId(t)).css("display")?e.revert():e.edit(t)},edit:function(t){var e,i=this;return i.revert(),"object"==typeof t&&(t=i.getId(t)),e=n("#inline-edit").clone(!0),rowData=n("#inline_"+t),n("td",e).attr("colspan",n(".widefat:first thead th:visible").length),n(i.what+t).hasClass("alternate")&&n(e).addClass("alternate"),n(i.what+t).hide().after(e),n(':input[name="name"]',e).val(n(".name",rowData).text()),n(':input[name="slug"]',e).val(n(".slug",rowData).text()),n(e).attr("id","edit-"+t).addClass("inline-editor").show(),n(".ptitle",e).eq(0).focus(),!1},save:function(i){var t=n('input[name="taxonomy"]').val()||"";return"object"==typeof i&&(i=this.getId(i)),n("table.widefat .spinner").show(),t={action:"inline-save-tax",tax_type:this.type,tax_ID:i,taxonomy:t},t=n("#edit-"+i+" :input").serialize()+"&"+n.param(t),n.post(ajaxurl,t,function(t){var e;n("table.widefat .spinner").hide(),t?-1!=t.indexOf("<tr")?(n(inlineEditTax.what+i).remove(),e=n(t).attr("id"),n("#edit-"+i).before(t).remove(),(e=n(e?"#"+e:inlineEditTax.what+i)).hide().fadeIn()):n("#edit-"+i+" .inline-edit-save .error").html(t).show():n("#edit-"+i+" .inline-edit-save .error").html(inlineEditL10n.error).show(),n(e).prev("tr").hasClass("alternate")&&n(e).removeClass("alternate")}),!1},revert:function(){var t=n("table.widefat tr.inline-editor").attr("id");return t&&(n("table.widefat .spinner").hide(),n("#"+t).remove(),t=t.substr(t.lastIndexOf("-")+1),n(this.what+t).show()),!1},getId:function(t){t=("TR"==t.tagName?t.id:n(t).parents("tr").attr("id")).split("-");return t[t.length-1]}},n(document).ready(function(){inlineEditTax.init()})}(jQuery);