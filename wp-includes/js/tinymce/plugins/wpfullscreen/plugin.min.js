tinymce.PluginManager.add("wpfullscreen",function(n){var e=n.settings;function t(){e.wp_fullscreen=!0,n.dom.addClass(n.getDoc().documentElement,"wp-fullscreen"),n.execCommand("wpAutoResizeOn")}function o(){return"undefined"!=typeof wp&&wp.editor&&wp.editor.fullscreen}function l(){var e=o();e&&(n.getParam("wp_fullscreen")?e.off():e.on())}n.addCommand("wpFullScreenOn",t),n.addCommand("wpFullScreenOff",function(){e.wp_fullscreen=!1,n.dom.removeClass(n.getDoc().documentElement,"wp-fullscreen"),n.execCommand("wpAutoResizeOff")}),n.addCommand("wpFullScreen",l),n.on("keydown",function(e){var n;27===e.keyCode&&(n=o())&&n.settings.visible&&n.off()}),n.on("init",function(){n.getParam("wp_fullscreen")&&t()}),n.addButton("wp_fullscreen",{tooltip:"Distraction-free writing mode",shortcut:"Alt+Shift+W",onclick:l,classes:"wp-fullscreen btn widget"}),n.addMenuItem("wp_fullscreen",{text:"Distraction-free writing mode",icon:"wp_fullscreen",shortcut:"Alt+Shift+W",context:"view",onclick:l})});